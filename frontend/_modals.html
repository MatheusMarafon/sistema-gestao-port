<!-- =================== MODAIS GLOBAIS =================== -->

<!-- Modal Vendedor e Contato -->
<div class="modal fade" id="vendedor-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="fas fa-user-tie"></i> Vendedor e Contato</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="vendedor-contato-form">
                    <!-- Conteúdo do formulário -->
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                <button type="submit" form="vendedor-contato-form" class="btn btn-primary">Salvar</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Genérico para Calendário -->
<div class="modal fade" id="calendar-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Selecione uma Data</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-2" id="calendar-container"></div>
        </div>
    </div>
</div>

<!-- Modal Genérico de Confirmação -->
<div class="modal fade" id="confirm-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="fas fa-exclamation-triangle text-warning me-2"></i> Confirmação</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p id="confirm-modal-body-text">Você tem certeza?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="confirm-modal-cancel-btn" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="confirm-modal-ok-btn">Confirmar</button>
            </div>
        </div>
    </div>
</div>

<!-- =================== MODAIS DA PÁGINA DE PARÂMETROS =================== -->

<!-- Modal de Ajuste IPCA -->
<div class="modal fade" id="ipca-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="ipca-form" autocomplete="off">
                <div class="modal-header"><h5 class="modal-title" id="ipca-modal-title">Ajuste IPCA</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
                <div class="modal-body">
                    <input type="hidden" id="ipca-ano-original"><div class="mb-3"><label for="ipca-ano" class="form-label">Ano*</label><input type="number" id="ipca-ano" name="Ano" class="form-control" required></div>
                    <div class="mb-3"><label for="ipca-percentual" class="form-label">Percentual IPCA (%)*</label><input type="number" id="ipca-percentual" name="PctIPCA" step="0.01" class="form-control" required></div>
                </div>
                <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button type="submit" class="btn btn-primary">Salvar</button></div>
            </form>
        </div>
    </div>
</div>

<!-- Modal de Preço por MWh -->
<div class="modal fade" id="preco-mwh-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog"><div class="modal-content"><form id="preco-mwh-form" autocomplete="off">
        <div class="modal-header"><h5 class="modal-title">Editar Preço por MWh</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
            <input type="hidden" id="preco-mwh-ano-original"><input type="hidden" id="preco-mwh-fonte-original">
            <div class="row g-3">
                <div class="col-md-6"><label class="form-label">Ano</label><input type="number" id="preco-mwh-ano" name="Ano" class="form-control" readonly></div>
                <div class="col-md-6"><label class="form-label">Fonte</label><input type="text" id="preco-mwh-fonte" name="Fonte" class="form-control" readonly></div>
                <div class="col-md-6"><label class="form-label">Preço (R$/MWh)*</label><input type="text" id="preco-mwh-preco" name="PrecoRS_MWh" class="form-control" required></div>
                <div class="col-md-6"><label class="form-label">Corrigir por</label><select id="preco-mwh-corrigir" name="Corrigir" class="form-select"><option value="">Nenhum</option><option value="IPCA">IPCA</option><option value="IGPM">IGPM</option></select></div>
            </div>
        </div>
        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button type="submit" class="btn btn-primary">Salvar Alterações</button></div>
    </form></div></div>
</div>

<!-- Modal para Editar Custos Base do Mês -->
<div class="modal fade" id="custos-mes-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg"><div class="modal-content"><form id="custos-mes-form" autocomplete="off">
        <div class="modal-header"><h5 class="modal-title"><i class="fas fa-edit"></i> Editar Custos Base do Mês</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
            <input type="hidden" id="custos-mes-ref-original">
            <div class="mb-3"><label class="form-label">Mês de Referência</label><input type="text" id="custos-mes-ref" name="MesRef" class="form-control" readonly></div>
            <div class="row g-3">
                <div class="col-md-4"><label class="form-label">Liq. MCPA-CL</label><input type="text" name="LiqMCPACL" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">Liq. MCPA-PE</label><input type="text" name="LiqMCPAPE" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">Liq. Ener. Reserva</label><input type="text" name="LiqEnerReserva" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">Liq. RCAP</label><input type="text" name="LiqRCAP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">Spread Venda</label><input type="text" name="SpreadVenda" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">Modelagem</label><input type="text" name="ModelagemMes" class="form-control"></div>
            </div>
        </div>
        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button type="submit" class="btn btn-primary">Salvar Alterações</button></div>
    </form></div></div>
</div>

<!-- Modal para Editar Ajuste de Tarifa por Distribuidora -->
<div class="modal fade" id="ajuste-tarifa-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg"><div class="modal-content"><form id="ajuste-tarifa-form" autocomplete="off">
        <div class="modal-header"><h5 class="modal-title"><i class="fas fa-edit"></i> Editar Ajuste de Tarifa</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div>
        <div class="modal-body">
            <input type="hidden" id="ajuste-tarifa-cnpj-original"><input type="hidden" id="ajuste-tarifa-ano-original">
            <div class="row g-3">
                <div class="col-md-6"><label class="form-label">Distribuidora (CNPJ)</label><input type="text" name="CnpjDistribuidora" class="form-control" readonly></div>
                <div class="col-md-6"><label class="form-label">Ano</label><input type="number" name="Ano" class="form-control" readonly></div>
                <div class="col-md-4"><label class="form-label">% TUSD kW P</label><input type="text" name="PctTusdkWP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">% TUSD kW FP</label><input type="text" name="PctTusdkWFP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">% TUSD MWh P</label><input type="text" name="PctTusdMWhP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">% TUSD MWh FP</label><input type="text" name="PctTusdMWhFP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">% TE MWh P</label><input type="text" name="PctTEMWhP" class="form-control"></div>
                <div class="col-md-4"><label class="form-label">% TE MWh FP</label><input type="text" name="PctTEMWhFP" class="form-control"></div>
            </div>
        </div>
        <div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button><button type="submit" class="btn btn-primary">Salvar Alterações</button></div>
    </form></div></div>
</div>

<!-- Modal para Editar Dados de Geração Anual -->
<div class="modal fade" id="dados-geracao-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="dados-geracao-form" autocomplete="off">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-edit"></i> Editar Dados de Geração</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="dados-geracao-fonte-original">
                    <input type="hidden" id="dados-geracao-local-original">
                    <div class="row g-3">
                        <div class="col-md-6"><label class="form-label">Fonte</label><input type="text" name="Fonte" class="form-control" readonly></div>
                        <div class="col-md-6"><label class="form-label">Local</label><input type="text" name="Local" class="form-control" readonly></div>
                        <div class="col-md-6"><label class="form-label">Volume (MWh/Ano)</label><input type="text" name="VolumeMWhAno" class="form-control"></div>
                        <div class="col-md-6"><label class="form-label">Preço (R$/MWh)</label><input type="text" name="PrecoRS_MWh" class="form-control"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal para Editar Curva de Sazonalização -->
<div class="modal fade" id="curva-geracao-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="curva-geracao-form" autocomplete="off">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-edit"></i> Editar Curva de Sazonalização</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="curva-geracao-idmes-original">
                    <input type="hidden" id="curva-geracao-fonte-original">
                    <input type="hidden" id="curva-geracao-local-original">
                    <div class="row g-3">
                        <div class="col-md-4"><label class="form-label">Mês/Ano (ID)</label><input type="text" name="IdMes" class="form-control" readonly></div>
                        <div class="col-md-4"><label class="form-label">Fonte</label><input type="text" name="Fonte" class="form-control" readonly></div>
                        <div class="col-md-4"><label class="form-label">Local</label><input type="text" name="Local" class="form-control" readonly></div>
                        <div class="col-12"><label class="form-label">% Sazonalização</label><input type="text" name="PctSazonalizacaoMes" class="form-control"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>
</div>